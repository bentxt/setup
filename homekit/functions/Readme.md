helper functions for inside the shell
